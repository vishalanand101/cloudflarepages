<!-- login.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="https://cdn.auth0.com/js/auth0-spa-js/1.18/auth0-spa-js.production.js"></script>
</head>
<body>
    <div class="login-container">
        <h1>Login</h1>
        <button id="login-btn">Login with Google</button>
        <button id="login-facebook-btn">Login with Facebook</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", async function () {
            // Initialize Auth0 client
            const auth0 = await createAuth0Client({
                domain: 'dev-aw2zto4r1fqzsj8i.us.auth0.com', // Replace with your Auth0 domain
                client_id: 'Loevn4yrlaE1UkugPQAeeDLQwtTPtoOu', // Replace with your Auth0 client ID
                redirect_uri: window.location.href,  // The URI after successful login
            });

            // Login Button Actions
            document.getElementById('login-btn').addEventListener('click', async () => {
                await auth0.loginWithRedirect({ connection: 'google-oauth2' });
            });

            document.getElementById('login-facebook-btn').addEventListener('click', async () => {
                await auth0.loginWithRedirect({ connection: 'facebook' });
            });

            // Handle the callback after login
            if (window.location.search.includes('code=') && window.location.search.includes('state=')) {
                await auth0.handleRedirectCallback();
                window.location.replace('/'); // Redirect back to the homepage (or any other page)
            }
        });
    </script>
</body>
</html>
